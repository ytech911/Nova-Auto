<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Osiris Concessionnaire</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-color: #90EE90;
            --dark-bg: #1a1a1a;
            --text-color: #FFFFFF;
            --text-muted: #CCCCCC;
            --card-bg: rgba(20, 20, 20, 0.85);
            --border-color: #444;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Montserrat', sans-serif; background-color: #121212; color: var(--text-color); line-height: 1.6; }
        .container { width: 90%; max-width: 1200px; margin: 0 auto; }

        header { background-color: rgba(10, 10, 10, 0.75); padding: 15px 0; position: fixed; width: 100%; top: 0; left: 0; z-index: 1000; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        header nav { display: flex; justify-content: space-between; align-items: center; }
        .nav-links { list-style: none; display: flex; }
        .nav-links li { margin-right: 30px; }
        .nav-links a { text-decoration: none; color: var(--text-muted); font-weight: 500; font-size: 0.9em; padding-bottom: 5px; transition: color 0.3s ease, border-bottom-color 0.3s ease; text-transform: uppercase; }
        .nav-links a.active, .nav-links a:hover { color: var(--text-color); border-bottom: 2px solid var(--primary-color); }
        
        /* MODIFIÉ: Taille du logo du header */
        .logo img { 
            height: 48px; /* Augmenté de 28px */
            transition: transform 0.3s ease; 
        }
        .logo img:hover { transform: scale(1.1); }


        .hero {
            position: relative;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding-top: 100px;
            padding-bottom: 15px;
            overflow: hidden;
        }

        .hero-background { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: url('https://res.cloudinary.com/dzmyybvbu/image/upload/v1751735063/360_F_650549520_9a0dbWZAqWx9k4hLhp8gLIQEI2nVtFBY_qhpjsd.jpg'); background-size: cover; background-position: center; z-index: -1; }

        .car-display {
            position: relative; 
            display: flex;
            align-items: center;
            justify-content: center;
            width: 70%; 
            max-width: 900px;
            height: 78vh; 
            flex-shrink: 0;
            margin-bottom: -125px; 
        }

        .car-image {
            max-width: 100%;
            max-height: 100%;
            height: auto;
            display: block;
            filter: drop-shadow(0 10px 15px rgba(0,0,0,0.3));
            object-fit: contain;
            position: absolute; 
            opacity: 1; 
        }

        @keyframes slideOutRight {
            from { transform: translateX(0%); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        @keyframes slideInFromLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0%); opacity: 1; }
        }
        
        .car-image.slide-out {
            animation: slideOutRight 0.8s forwards cubic-bezier(0.76, 0, 0.24, 1);
        }
        .car-image.slide-in {
            animation: slideInFromLeft 0.8s forwards cubic-bezier(0.76, 0, 0.24, 1);
        }

        .slider-arrow { background-color: rgba(30, 30, 30, 0.6); color: var(--text-color); border: none; padding: 18px; font-size: 1.3em; cursor: pointer; position: absolute; top: 50%; transform: translateY(-50%); border-radius: 3px; transition: background-color 0.3s ease, transform 0.2s ease; z-index: 10; }
        .slider-arrow:hover { background-color: rgba(50, 50, 50, 0.8); transform: translateY(-50%) scale(1.1); }
        .prev-arrow { left: 10px; }
        .next-arrow { right: 10px; }

        .car-info-card {
            background-color: var(--card-bg);
            padding: 20px 25px; 
            border-radius: 6px;
            text-align: left;
            width: 90%;
            max-width: 380px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            margin-top: 0;
            flex-shrink: 0;
            z-index: 5;
            opacity: 0; 
            transform: translateY(20px); 
        }
        .car-info-card.animate-in {
             animation: fadeInCard 0.6s 0.5s forwards ease-out; 
        }
         .car-info-card.animate-out {
             animation: fadeOutCard 0.3s forwards ease-in;
        }

        @keyframes fadeInCard { to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeOutCard { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(20px); } }

        .car-info-card h2 { font-size: 1.8em; font-weight: 700; margin-bottom: 6px; color: var(--text-color); }
        .car-info-card .price { font-size: 1.15em; font-weight: 600; color: var(--text-color); margin-bottom: 18px; }
        .buttons { display: flex; gap: 10px; }
        .btn { padding: 10px 14px; border: none; border-radius: 4px; font-weight: 600; cursor: pointer; transition: background-color 0.3s ease, color 0.3s ease, opacity 0.3s ease, transform 0.2s ease; flex-grow: 1; text-transform: uppercase; font-size: 0.75em; text-align: center; }
        .btn:hover { transform: translateY(-2px); opacity: 0.9; }
        .btn-rent { background-color: var(--primary-color); color: #000000; }
        .btn-details { background-color: transparent; color: var(--text-color); border: 1.5px solid var(--text-color); }
        .btn-details:hover { background-color: var(--text-color); color: #000000; opacity: 1;}

        footer { background-color: #000000; color: var(--text-muted); padding: 50px 0 20px; }
        .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 30px; margin-bottom: 40px; }
        .footer-section h4 { color: var(--text-color); margin-bottom: 15px; font-size: 1.1em; text-transform: uppercase; }
        .footer-section ul { list-style: none; } .footer-section ul li { margin-bottom: 10px; } .footer-section a { color: var(--text-muted); text-decoration: none; font-size: 0.9em; transition: color 0.3s ease; } .footer-section a:hover { color: var(--primary-color); }
        .footer-logo-area .logo-footer { display: flex; align-items: center; margin-bottom: 15px; } 
        /* MODIFIÉ: Taille du logo du footer */
        .footer-logo-area .logo-footer img { 
            height: 100px; /* Augmenté de 35px */
            margin-right: 10px; 
            transition: opacity 0.3s ease;
        } 
        .footer-logo-area .logo-footer img:hover { opacity: 0.8; }
        .footer-logo-area .logo-footer span { font-size: 1.3em; font-weight: 700; color: var(--text-color); } .footer-logo-area p { font-size: 0.9em; line-height: 1.5; max-width: 250px; } .footer-section p { font-size: 0.9em; margin-bottom: 8px; }
        .footer-bottom { text-align: center; padding-top: 20px; border-top: 1px solid var(--border-color); font-size: 0.85em; color: var(--text-muted); }
        .scroll-to-top { position: fixed; bottom: 25px; right: 25px; background-color: var(--primary-color); color: #000; width: 40px; height: 40px; border-radius: 3px; text-align: center; line-height: 40px; font-size: 1.1em; text-decoration: none; transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease; opacity: 0; visibility: hidden; z-index: 900; }
        .scroll-to-top.visible { opacity: 1; visibility: visible; }
        .scroll-to-top:hover { transform: scale(1.1) translateY(-2px); }
        .ai-chat-button { position: fixed; bottom: 25px; left: 25px; background-color: var(--primary-color); color: #000; width: 50px; height: 50px; border-radius: 50%; text-align: center; line-height: 50px; font-size: 1.5em; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.2); z-index: 950; transition: transform 0.3s ease; }
        .ai-chat-button:hover { transform: scale(1.1); }
        .ai-popup { position: fixed; bottom: 90px; left: 25px; width: 300px; height: 400px; background-color: var(--dark-bg); border: 1px solid var(--border-color); border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); z-index: 940; display: none; flex-direction: column; overflow: hidden; }
        .ai-popup.open { display: flex; animation: slideUpPopup 0.3s ease-out; }
        @keyframes slideUpPopup { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .ai-popup-header { padding: 10px; background-color: rgba(0,0,0,0.3); display: flex; justify-content: space-between; align-items: center; color: var(--text-color); }
        .ai-popup-header h4 { margin: 0; }
        .ai-popup-close { background: none; border: none; color: var(--text-color); font-size: 1.2em; cursor: pointer; }
        .ai-popup-body { padding: 15px; flex-grow: 1; overflow-y: auto; color: var(--text-muted); }
        .ai-popup-body p { margin-bottom: 10px; padding: 8px 12px; border-radius: 15px; max-width: 80%; word-wrap: break-word; }
        .ai-popup-body .user-message { background-color: var(--primary-color); color: #000; margin-left: auto; border-bottom-right-radius: 5px;}
        .ai-popup-body .ai-message { background-color: #333; color: var(--text-color); margin-right: auto; border-bottom-left-radius: 5px;}
        .ai-popup-body .thinking-indicator span { display: inline-block; animation: thinkingDotsWave 1.4s infinite both; font-size: 1.8em; line-height: 1; }
        .ai-popup-body .thinking-indicator span:nth-child(2) { animation-delay: .2s; }
        .ai-popup-body .thinking-indicator span:nth-child(3) { animation-delay: .4s; }
        @keyframes thinkingDotsWave { 0%, 80%, 100% { transform: scale(0); opacity: 0; } 40% { transform: scale(1.0); opacity: 1;} }
        .ai-popup-footer { padding: 10px; border-top: 1px solid var(--border-color); display: flex;}
        .ai-popup-footer input { flex-grow: 1; padding: 8px; background-color: #333; border: 1px solid #555; color: var(--text-color); border-radius: 4px; margin-right: 5px;}
        .ai-popup-footer button { background-color: var(--primary-color); color: #000; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; }
        @media (max-width: 768px) { 
            .hero { padding-top: 80px; padding-bottom: 15px; justify-content: flex-start; } 
            .car-display { width: 90%; max-height: 48vh; margin-bottom: -80px; } 
            .slider-arrow { padding: 12px; font-size: 1em; } .prev-arrow { left: 5px; } .next-arrow { right: 5px; } 
            .car-info-card { width: 90%; padding: 15px 20px; max-width: none; margin-top: 0; } 
            .car-info-card.animate-in {animation: fadeInCard 0.5s 0.3s forwards ease-out;} 
            .car-info-card h2 { font-size: 1.5em; } 
            .car-info-card .price { font-size: 1.05em; margin-bottom: 15px; } 
            .buttons { flex-direction: column; gap: 8px;} .btn { font-size: 0.75em; padding: 10px 12px; } 
            header nav { flex-direction: row; } .nav-links li { margin-right: 15px; } .nav-links a { font-size: 0.8em;} 
            /* MODIFIÉ: Taille logo header mobile */
            .logo img { height: 35px; } 
            .footer-grid { grid-template-columns: 1fr; text-align: center; } .footer-logo-area p { margin: 0 auto 15px auto; } .footer-logo-area .logo-footer { justify-content: center; } 
            /* MODIFIÉ: Taille logo footer mobile */
            .footer-logo-area .logo-footer img { height: 40px; } 
            .ai-chat-button { width: 45px; height: 45px; line-height: 45px; font-size: 1.3em; } 
            .ai-popup { width: calc(100% - 40px); left: 20px; bottom: 80px; height: 350px;} 
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <ul class="nav-links">
                <li><a href="accueil.html" class="active">ACCUEIL</a></li>
                <li><a href="services.html">SERVICES</a></li>
                <li><a href="news.html">NEWS</a></li> <li><a href="presentation.html">PRÉSENTATION</a></li> <li><a href="contact.html">CONTACT</a></li>
            </ul>
            <div class="logo">
                <img src="https://res.cloudinary.com/dzmyybvbu/image/upload/v1751358006/f2a783f1-2881-42ba-8734-fad65f3a62db.png" alt="Osiris Logo"> 
            </div>
        </nav>
    </header>
    <main>
        <section class="hero">
            <div class="hero-background"></div>
            <div class="car-display">
                <button class="slider-arrow prev-arrow"><i class="fas fa-arrow-left"></i></button>
                <img src="6.png" alt="Porsche 911" class="car-image"> 
                <button class="slider-arrow next-arrow"><i class="fas fa-arrow-right"></i></button>
            </div>
            <div class="car-info-card">
                <h2>PORSCHE 911</h2>
                <p class="price">$60.395,00</p>
                <div class="buttons">
                    <button class="btn btn-rent" onclick="window.location.href='reservation-porsche911.html'">RENT NOW</button>
                    <button class="btn btn-details" onclick="window.location.href='details-porsche911.html'">DETAILS</button>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <div class="container footer-grid">
            <div class="footer-section footer-logo-area">
                <div class="logo-footer">
                    <img src="https://res.cloudinary.com/dzmyybvbu/image/upload/v1751358006/f2a783f1-2881-42ba-8734-fad65f3a62db.png" alt="Osiris Logo Footer"> 
                </div>
                <p>L'expérience de rouler avec NOVA AUTO CONCESSIONNAIRE</p>
            </div>
            <div class="footer-section"><h4>LINKS</h4><ul><li><a href="supercars.html">SUPER CAR RENTALS</a></li><li><a href="accueil.html">ACCUEIL</a></li><li><a href="services.html">SERVICES</a></li><li><a href="news.html">NEWS</a></li><li><a href="presentation.html">PRÉSENTATION</a></li><li><a href="contact.html">CONTACT</a></li></ul></div>
            <div class="footer-section"><h4>SERVICES</h4><ul><li><a href="services.html#car-rentals">CAR RENTALS</a></li><li><a href="services.html#memberships">MEMBERSHIPS</a></li><li><a href="reservation.html">BOOK TODAY</a></li><li><a href="contact.html#form">CONTACT NOW</a></li></ul></div>
            <div class="footer-section"><h4>CONTACT</h4><p><a href="mailto:INFO@NOVA_AUTO.COM">INFO@NOVA_AUTO.COM</a></p></div>
        </div>
        <div class="footer-bottom"><p>2025 © NOVA AUTO. TOUT DROITS RÉSERVÉS.</p></div>
    </footer>
    <a href="#" class="scroll-to-top"><i class="fas fa-arrow-up"></i></a>
    <div class="ai-chat-button" id="aiChatBtn"><i class="fas fa-robot"></i></div>
    <div class="ai-popup" id="aiPopup">
        <div class="ai-popup-header"><h4>Vendeur IA Nova Auto</h4><button class="ai-popup-close" id="aiPopupCloseBtn">×</button></div>
        <div class="ai-popup-body" id="aiChatBody">
            <p class="ai-message">Bonjour ! Comment puis-je vous aider aujourd'hui concernant nos véhicules d'exception ?</p>
        </div>
        <div class="ai-popup-footer">
            <input type="text" id="aiChatInput" placeholder="Posez votre question...">
            <button id="aiChatSendBtn"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>
    <script>
        async function chatWithAI(userInput, history) {
         
            const contents = [];
            history.forEach(turn => {
                contents.push({ role: turn.role, parts: [{ text: turn.text }] });
            });
            contents.push({ role: "user", parts: [{ text: userInput }] });
            const data = { contents: contents };
            try {
                const response = await fetch(endpoint, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data)
                });
                if (!response.ok) {
                    const errorData = await response.json();
                    console.error("Erreur API Gemini:", response.status, errorData);
                    return `Désolé, une erreur s'est produite (Code: ${response.status}). Veuillez réessayer.`;
                }
                const result = await response.json();
                if (result.candidates && result.candidates[0] && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts[0]) {
                    return result.candidates[0].content.parts[0].text;
                } else if (result.promptFeedback && result.promptFeedback.blockReason) {
                     console.warn("Réponse bloquée par Gemini:", result.promptFeedback.blockReason, result.promptFeedback.safetyRatings);
                    return "Désolé, je ne peux pas répondre à cette demande pour le moment.";
                } else {
                    console.warn("Réponse inattendue de Gemini:", result);
                    return "Je n'ai pas bien compris, pourriez-vous reformuler ?";
                }
            } catch (error) {
                console.error("Erreur lors de l'appel à l'API Gemini:", error);
                return "Désolé, je rencontre un problème technique. Veuillez réessayer plus tard.";
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const scrollToTopButton = document.querySelector('.scroll-to-top');
            window.addEventListener('scroll', () => { scrollToTopButton.classList.toggle('visible', window.pageYOffset > 200); });
            scrollToTopButton.addEventListener('click', (e) => { e.preventDefault(); window.scrollTo({ top: 0, behavior: 'smooth' }); });

            const carImageElement = document.querySelector('.car-image'); 
            const carCardElement = document.querySelector('.car-info-card');
            const carNameElement = document.querySelector('.car-info-card h2');
            const carPriceElement = document.querySelector('.car-info-card .price');
            const prevButton = document.querySelector('.prev-arrow');
            const nextButton = document.querySelector('.next-arrow');

            const cars = [ 
                { name: 'PORSCHE 911', price: '$60.395,00', image: '6.png' },
                { name: 'Lamborghini Urus', price: '$100.395,00', image: '4.png' },
                { name: 'Mercedes Class G', price: '$70.950,00', image: '5.png' },
                { name: 'MCLAREN 720S', price: '$60.900,00', image: '1.png' },
                { name: 'Aston Martin DB11', price: '$85.500,00', image: '3.png' }
            ];
            let currentCarIndex = 0;
            let autoSlideInterval;
            let isAnimating = false;
            let chatHistory = [];

            function animateCard(action) {
                if (carCardElement) {
                    if (action === 'out') {
                        carCardElement.classList.remove('animate-in');
                        carCardElement.classList.add('animate-out');
                    } else if (action === 'in') {
                        carCardElement.classList.remove('animate-out');
                        void carCardElement.offsetWidth;
                        carCardElement.classList.add('animate-in');
                    }
                }
            }

            function updateCarDisplay(newIndex) {
                if (isAnimating) return;
                isAnimating = true;
                animateCard('out'); 
                const car = cars[newIndex];
                carImageElement.classList.remove('slide-in');
                carImageElement.classList.add('slide-out');
                setTimeout(() => {
                    carImageElement.src = car.image; 
                    carImageElement.alt = car.name;  
                    carImageElement.classList.remove('slide-out');
                    void carImageElement.offsetWidth; 
                    carImageElement.classList.add('slide-in');
                    if (carNameElement) carNameElement.textContent = car.name;
                    if (carPriceElement) carPriceElement.textContent = car.price;
                    animateCard('in');
                    setTimeout(() => { isAnimating = false; }, 800 + 600); 
                }, 800); 
                currentCarIndex = newIndex;
            }
            
            function autoNextCar() {
                if (isAnimating) return;
                let nextIndex = (currentCarIndex + 1) % cars.length;
                updateCarDisplay(nextIndex);
            }
            function startAutoSlide() {
                stopAutoSlide(); 
                autoSlideInterval = setInterval(autoNextCar, 5000); 
            }
            function stopAutoSlide() {
                clearInterval(autoSlideInterval);
            }

            if (prevButton && nextButton && carImageElement && carNameElement && carPriceElement) { 
                prevButton.addEventListener('click', () => { 
                    if (isAnimating) return;
                    let prevIndex = (currentCarIndex - 1 + cars.length) % cars.length; 
                    updateCarDisplay(prevIndex); 
                    stopAutoSlide(); 
                });
                nextButton.addEventListener('click', () => { 
                    if (isAnimating) return;
                    let nextIndex = (currentCarIndex + 1) % cars.length; 
                    updateCarDisplay(nextIndex); 
                    stopAutoSlide(); 
                });
                
                if (carImageElement) carImageElement.src = cars[currentCarIndex].image;
                if (carNameElement) carNameElement.textContent = cars[currentCarIndex].name;
                if (carPriceElement) carPriceElement.textContent = cars[currentCarIndex].price;
                animateCard('in'); 
                carImageElement.style.transform = 'translateX(0%)'; 
                carImageElement.style.opacity = '1';
                startAutoSlide();
            } else { console.error("Un ou plusieurs éléments du slider/carte d'info n'ont pas été trouvés."); }

            const aiChatBtn = document.getElementById('aiChatBtn');
            const aiPopup = document.getElementById('aiPopup');
            const aiPopupCloseBtn = document.getElementById('aiPopupCloseBtn');
            const aiChatBody = document.getElementById('aiChatBody');
            const aiChatInput = document.getElementById('aiChatInput');
            const aiChatSendBtn = document.getElementById('aiChatSendBtn');
            
            function addMessageToChat(message, sender, isThinking = false) {
                const messageElement = document.createElement('p');
                messageElement.classList.add(sender === 'user' ? 'user-message' : 'ai-message');
                if (isThinking && message === "") {
                    messageElement.innerHTML = '<span>.</span><span>.</span><span>.</span>';
                    messageElement.classList.add('thinking-indicator');
                } else {
                    messageElement.textContent = message;
                }
                aiChatBody.appendChild(messageElement);
                aiChatBody.scrollTop = aiChatBody.scrollHeight;
                return messageElement; 
            }

            async function handleUserChatInput() {
                const userInput = aiChatInput.value.trim();
                if (userInput === "") return;
                addMessageToChat(userInput, 'user');
                chatHistory.push({ role: "user", text: userInput });
                aiChatInput.value = "";
                const thinkingMsgElement = addMessageToChat("", 'ai', true);
                try {
                    const aiResponse = await chatWithAI(userInput, chatHistory);
                    thinkingMsgElement.remove(); 
                    addMessageToChat(aiResponse, 'ai');
                    chatHistory.push({ role: "model", text: aiResponse });
                } catch (error) {
                    thinkingMsgElement.remove(); 
                    addMessageToChat("Désolé, une erreur s'est produite avec l'IA.", 'ai');
                }
            }

            if(aiChatBtn && aiPopup && aiPopupCloseBtn && aiChatInput && aiChatSendBtn && aiChatBody){
                aiChatBtn.addEventListener('click', () => {
                    aiPopup.classList.toggle('open');
                    if (aiPopup.classList.contains('open')) {
                        aiChatInput.focus();
                    }
                });
                aiPopupCloseBtn.addEventListener('click', () => {
                    aiPopup.classList.remove('open');
                });
                aiChatSendBtn.addEventListener('click', handleUserChatInput);
                aiChatInput.addEventListener('keypress', (event) => {
                    if (event.key === 'Enter') {
                        handleUserChatInput();
                    }
                });
            }
        });
    </script>

</body> 
</html>
